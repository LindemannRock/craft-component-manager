{% extends "component-manager/_layouts/settings" %}
{% set title = "General Settings"|t('component-manager') %}
{% set fullPageForm = true %}
{% set selectedSettingsItem = 'general' %}

{% set crumbs = [
    {
        label: pluginName ?? 'Component Manager',
        url: url('component-manager'),
    },
    {
        label: 'Settings'|t('component-manager'),
        url: url('component-manager/settings'),
    },
    {
        label: 'General'|t('component-manager'),
        url: url('component-manager/settings/general'),
    },
] %}

{% import "_includes/forms" as forms %}

{% block content %}
    <h2>{{ 'General Settings'|t('component-manager') }}</h2>
    
    <form method="post" accept-charset="UTF-8">
        {{ csrfInput() }}
        {{ actionInput('component-manager/settings/save') }}
        {{ redirectInput('component-manager/settings/general') }}
        
        {{ forms.textField({
            label: 'Plugin name'|t('component-manager'),
            instructions: 'The public-facing name of the plugin'|t('component-manager'),
            id: 'pluginName',
            name: 'pluginName',
            value: settings.pluginName ?? 'Component Manager',
            placeholder: 'Component Manager',
            warning: settings.isOverridden('pluginName') ? 'This is being overridden by the `pluginName` setting in the `config/component-manager.php` file.'|t('component-manager'),
            disabled: settings.isOverridden('pluginName')
        }) }}
        
        {{ forms.textField({
            label: 'Default Slot Name'|t('component-manager'),
            instructions: 'Name of the default slot for component content'|t('component-manager'),
            id: 'defaultSlotName',
            name: 'defaultSlotName',
            value: settings.defaultSlotName,
            placeholder: 'default',
            warning: settings.isOverridden('defaultSlotName') ? 'This is being overridden by the `defaultSlotName` setting in the `config/component-manager.php` file.'|t('component-manager'),
            disabled: settings.isOverridden('defaultSlotName'),
            errors: settings.getErrors('defaultSlotName')
        }) }}
    </form>

    {% include 'component-manager/_components/plugin-credit.twig' %}
{% endblock %}